---
title: "Snowshoe Hares"
author: "Corinna Hong"
date: "January 29, 2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE)
```


Snowshoe hares are prevalent in northern boreal forests, such as those in Alaska. Capture-release studies conducted from 1999 to 2002 in Alaska's Bonanza Creek Experimental Forest collected physical data on this species. This project visualizes this physical data in a box-and-whisker plot with a jitter overlay.

![Alt text] (\Users\Corinna\Documents\Bren\snowshow_hares_nps.jpg)

```{r, load packages}

# Load packages

library(tidyverse)
library(kableExtra)
library(janitor)

```

```{r, read in data}

# Read in data

snowshoe_hares <- read_csv("showshoe_lter.csv")
unique(snowshoe_hares$sex) # check unique values of `sex` column in original data

```

```{r, wrangle data}

# Wrangle data

hares_wrangle <- snowshoe_hares %>% 
  filter(!is.na(sex)) %>% # remove NAs in sex column %>% 
  mutate(sex = str_to_upper(sex)) %>% 
  filter(sex %in% c("M", "F"))  %>% # look for anything in sex column matching "M"/"F" This is how I am getting rid of "?" and "PF"
  filter(!is.na(weight)) # remove NAs in weight column

unique(hares_wrangle$sex) # check unique values of 'sex' column in wrangled data

```
Kielland K., F. S. Chapin, R. W. Ruess. 2017. Snowshoe hare physical data in Bonanza Creek Experimental Forest: 1999-Present. Environmental Data Initiative. https://doi.org/10.6073/pasta/03dce4856d79b91557d8e6ce2cbcdc14.
```{r, plot data, fig.align = 'center'}

# Create graph

hare_boxplot <- ggplot(hares_wrangle, aes(x = sex, y = weight)) +
  geom_boxplot() +
  geom_jitter(width = 0.1, alpha = 0.3, aes(color = sex)) + # Width of jitter, opacity(alpha) of dots, color coding by sex
  theme_classic() +
  labs (x = "Sex", y = "Body weight (g)", color = "Sex", title = "Snowshoe Hare Body Mass Box-and-Whisker Plot with Overlying Jitter")

hare_boxplot

```

```{r, summary statistics}

# Create summary statistics

hares_summary <- hares_wrangle %>% 
  group_by(sex) %>% 
  summarize(
    mean = round(mean(weight), 2),
    sd = round(sd(weight), 2),
    n = length(sex)
  )

```

```{r, finalize table}

# Create final table

hares_table <- kable(hares_summary, caption = "Summary Table of Snowshoe Hares", 
                     col.names = c("Sex","Mean Weight (g)","Standard Deviation (g)","Sample Size")) %>% # rename columns
  kable_styling(full_width = F, position = "center") # Decrease table width and centers it

hares_table

```

